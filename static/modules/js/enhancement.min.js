class SendModuleDataEnhancement{constructor(e){this.method=e,this.moduleParameters={nameFile:generateUUID(),model:"gfpgan"},this.sourceFile={nameFile:null,urlFile:null,formatFile:null,fileSizeBytes:null,naturalWidth:null,naturalHeight:null,offsetWidth:null,offsetHeight:null,startTime:null,endTime:null}}}const callbacks={fetchSendModuleDataCallback:fetchSendModuleDataEnhancement,toggleModificationCallback:null,setMetaButtonCallback:setMetaButtonEnhancement,setMotionButtonCallback:null,setParametersButtonCallback:null,setModuleImgButtonsCallback:null,setModuleVideoButtonsCallback:null,setDefaultSendModuleData:SendModuleDataEnhancement};let sendModuleData=new SendModuleDataEnhancement(moduleName);async function fetchSendModuleDataEnhancement(){""===sendModuleData.moduleParameters.nameFile.trim()&&(sendModuleData.moduleParameters.nameFile=generateUUID());var e=["jpg","jpeg","png","gif","bmp"].includes(sendModuleData.sourceFile.formatFile.toLowerCase())?{tmpFileName:generateImageFilename(),validMessage:""}:["mp4","avi","mov","wmv","mkv"].includes(sendModuleData.sourceFile.formatFile.toLowerCase())?{tmpFileName:generateVideoFilename(),validMessage:""}:(console.log("The format file is neither an image nor a video format."),{tmpFileName:null,validMessage:"Yikes! Looks like an alien format. Stick to images or videos for now."}),t=e.tmpFileName,e=e.validMessage;if(!1===t)return{statusBool:!1,validMessage:e};sendModuleData.sourceFile.nameFile=t;let a=sendModuleData.sourceFile.urlFile;return"string"==typeof blobUrlSrc&&(console.log("url to blob"),a=await urlToBlob(a)),a?(console.log("download file"),await uploadChunkFile(a,t),sendModuleData.sourceFile.urlFile=null,console.log(JSON.stringify(sendModuleData,null,4)),await postModuleTaskEvent(sendModuleData),sendModuleData.sourceFile.urlFile=a,{statusBool:!0,validMessage:e}):{statusBool:!1,validMessage:e}}function setMetaButtonEnhancement(){var e=document.querySelector(".footer-parameters").querySelector("div"),t=(e.innerHTML="",document.createElement("div")),a=(t.classList.add("flex","gap-3","items-center","justify-between"),document.createElement("p"));a.classList.add("font-extra-thick"),a.textContent="Filename";const n=document.createElement("input");n.classList.add("px-2","py-1.5","rounded-md","bg-dark-elements","w-32","box-content","text-center","outline-none"),n.type="text",n.value=sendModuleData.moduleParameters.nameFile,n.disabled=!1;var s=document.createElement("div"),l=(s.classList.add("flex","gap-3","items-center","justify-between"),document.createElement("p"));l.classList.add("font-extra-thick"),l.textContent="Resized to";const r=document.createElement("input");r.classList.add("px-2","py-1.5","rounded-md","bg-dark-elements","w-32","box-content","text-center","outline-none"),r.type="text",r.value="1280x720",r.disabled=!0,getLimitResolution(moduleName).then(e=>{var t=sendModuleData.sourceFile.naturalWidth,a=sendModuleData.sourceFile.naturalHeight,e=setLimitResolution(e,t,a);r.value=e.newWidth+"x"+e.newHeight}).catch(e=>{}),n.addEventListener("input",function(e){var t=e.target.value;/^[a-zA-Z0-9-]*$/.test(t)||(e.target.value=t.slice(0,-1)),sendModuleData.moduleParameters.nameFile=n.value}),t.appendChild(a),t.appendChild(n),s.appendChild(l),s.appendChild(r),e.appendChild(t),e.appendChild(s)}function setMotionButtonEnhancement(){var e=document.querySelector(".footer-parameters").querySelector("div"),t=(e.classList.remove("mt-3"),e.innerHTML="",document.createElement("div")),a=(t.classList.add("flex","gap-3","items-center","justify-between"),document.createElement("p"));a.classList.add("font-extra-thick"),a.textContent="Method";document.createElement("div").classList.add("flex","gap-2","flex-col"),(parametersGfpganDiv=document.createElement("div")).classList.add("flex","gap-1.5","items-center"),(parametersGfpganP=document.createElement("p")).classList.add("flex-1","basis-1/3"),parametersGfpganP.textContent="Face boost",(parametersButtonGfpgan=document.createElement("button")).classList.add("rounded-md","flex","items-center","justify-center","transition-colors","font-normal","disabled:cursor-not-allowed","px-4","gap-2","py-2.5","basis-1/3","flex-1","!bg-dark-elements","!text-light-primary","hover:bg-dark-elements-hover","text-light-primary","bg-dark-elements"),parametersButtonGfpgan.type="button",parametersButtonGfpgan.title="Enhance faces and details with Gfpgan. This powerful tool refines facial features and improves overall video quality. It adds realism and sharpness, making your videos stand out with vivid detail and lifelike appearance.",parametersButtonGfpgan.innerHTML='<i class="fa-solid fa-thumbs-up"></i>',(parametersAnimesganDiv=document.createElement("div")).classList.add("flex","gap-1.5","items-center"),(parametersAnimesganP=document.createElement("p")).classList.add("flex-1","basis-1/3"),parametersAnimesganP.textContent="Anime enhance",(parametersButtonAnimesgan=document.createElement("button")).classList.add("rounded-md","flex","items-center","justify-center","transition-colors","font-normal","disabled:cursor-not-allowed","px-4","gap-2","py-2.5","basis-1/3","flex-1","!bg-dark-elements","!text-light-primary","hover:bg-dark-elements-hover","text-light-primary","bg-dark-elements"),parametersButtonAnimesgan.type="button",parametersButtonAnimesgan.title="Activate Animesgan to enhance anime-like videos. This innovative feature clarifies lines and colors, bringing out the artistic essence of your videos. It smooths transitions and enhances visual clarity, ensuring your anime-style content looks its best.",parametersButtonAnimesgan.innerHTML='<i class="fa-solid fa-thumbs-up"></i>',(parametersRealesrganDiv=document.createElement("div")).classList.add("flex","gap-1.5","items-center"),(parametersRealesrganP=document.createElement("p")).classList.add("flex-1","basis-1/3"),parametersRealesrganP.textContent="Real video",(parametersButtonRealesrgan=document.createElement("button")).classList.add("rounded-md","flex","items-center","justify-center","transition-colors","font-normal","disabled:cursor-not-allowed","px-4","gap-2","py-2.5","basis-1/3","flex-1","!bg-dark-elements","!text-light-primary","hover:bg-dark-elements-hover","text-light-primary","bg-dark-elements"),parametersButtonRealesrgan.type="button",parametersButtonRealesrgan.title="Enable Realesrgan for real-life video enhancement. This advanced tool smoothens and clarifies videos, removing noise and enhancing overall quality. It's perfect for video and improving visual appeal with crisp details and smooth playback.",parametersButtonRealesrgan.innerHTML='<i class="fa-solid fa-thumbs-up"></i>';var n=document.createElement("span"),s=(n.classList.add("w-full","h-px","bg-white","bg-opacity-20","shrink-0"),document.createElement("button"));function l(e,t){parametersButtonGfpgan.classList.remove("!bg-accent-primary","!text-dark-background"),parametersButtonGfpgan.classList.add("!bg-dark-elements","!text-light-primary"),parametersButtonAnimesgan.classList.remove("!bg-accent-primary","!text-dark-background"),parametersButtonAnimesgan.classList.add("!bg-dark-elements","!text-light-primary"),parametersButtonRealesrgan.classList.remove("!bg-accent-primary","!text-dark-background"),parametersButtonRealesrgan.classList.add("!bg-dark-elements","!text-light-primary"),e.classList.remove("!bg-dark-elements","!text-light-primary"),e.classList.add("!bg-accent-primary","!text-dark-background"),sendModuleData.moduleParameters.model=t}s.classList.add("text-light-primary","opacity-60","hover:opacity-100","transition-opacity","-mt-2"),s.textContent="Reset",s.type="button",parametersButtonGfpgan.onclick=function(){l(this,"gfpgan")},parametersButtonAnimesgan.onclick=function(){l(this,"animesgan")},parametersButtonRealesrgan.onclick=function(){l(this,"realesrgan")},s.onclick=function(){l(parametersButtonGfpgan,"gfpgan")},("animesgan"===sendModuleData.moduleParameters.model?parametersButtonAnimesgan:"realesrgan"===sendModuleData.moduleParameters.model?parametersButtonRealesrgan:parametersButtonGfpgan).click(),t.appendChild(a),parametersGfpganDiv.appendChild(parametersGfpganP),parametersGfpganDiv.appendChild(parametersButtonGfpgan),parametersAnimesganDiv.appendChild(parametersAnimesganP),parametersAnimesganDiv.appendChild(parametersButtonAnimesgan),parametersRealesrganDiv.appendChild(parametersRealesrganP),parametersRealesrganDiv.appendChild(parametersButtonRealesrgan),e.appendChild(t),e.appendChild(parametersGfpganDiv),e.appendChild(parametersAnimesganDiv),e.appendChild(parametersRealesrganDiv),e.appendChild(n),e.appendChild(s)}createFooterVideoOrImage(callbacks);
