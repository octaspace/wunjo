class SendModuleDataSeparator{constructor(e){this.method=e,this.moduleParameters={nameFile:generateUUID(),extractMethod:"vocals",trimSilence:!1},this.sourceFile={nameFile:null,urlFile:null,formatFile:null,fileSizeBytes:null,startTime:null,endTime:null}}}const callbacks={fetchSendModuleDataCallback:fetchSendModuleDataSeparator,toggleModificationCallback:null,setMetaButtonCallback:setMetaButtonSeparator,setParametersButtonCallback:setParametersButtonSeparator,setModuleAudioButtonsCallback:null,setDefaultSendModuleData:SendModuleDataSeparator};let sendModuleData=new SendModuleDataSeparator(moduleName);async function fetchSendModuleDataSeparator(){var e=["wav","mp3"].includes(sendModuleData.sourceFile.formatFile.toLowerCase())?{tmpFileNameSrc:tmpFileNameAudio=generateAudioFilename(),validMessage:""}:(console.log("The format file is neither an audio format."),{tmpFileNameSrc:null,validMessage:"Yikes! Looks like an alien format. Stick to audio for now."}),t=e.tmpFileNameSrc,e=e.validMessage;if(!1===t)return{statusBool:!1,validMessage:e};sendModuleData.sourceFile.nameFile=t;let a=sendModuleData.sourceFile.urlFile;return(a="string"==typeof a?await urlToBlob(a):a)?(console.log("download file"),await uploadChunkFile(a,t),sendModuleData.sourceFile.urlFile=null,console.log(JSON.stringify(sendModuleData,null,4)),await postModuleTaskEvent(sendModuleData),sendModuleData.sourceFile.urlFile=URL.createObjectURL(a),{statusBool:!0,validMessage:e}):{statusBool:!1,validMessage:e}}function setMetaButtonSeparator(){var e=document.querySelector(".footer-parameters").querySelector("div"),t=(e.innerHTML="",document.createElement("div")),a=(t.classList.add("flex","gap-3","items-center","justify-between"),document.createElement("p"));a.classList.add("font-extra-thick"),a.textContent="Filename";const l=document.createElement("input");l.classList.add("px-2","py-1.5","rounded-md","bg-dark-elements","w-32","box-content","text-center","outline-none"),l.type="text",l.value=sendModuleData.moduleParameters.nameFile,l.disabled=!1,l.addEventListener("input",function(e){var t=e.target.value;/^[a-zA-Z0-9-]*$/.test(t)||(e.target.value=t.slice(0,-1)),sendModuleData.moduleParameters.nameFile=l.value}),t.appendChild(a),t.appendChild(l),e.appendChild(t)}function setParametersButtonSeparator(){var e=document.querySelector(".footer-parameters").querySelector("div"),t=(e.classList.remove("mt-3"),e.innerHTML="",document.createElement("div")),a=(t.classList.add("flex","gap-3","items-center","justify-between"),document.createElement("p")),l=(a.classList.add("font-extra-thick"),a.textContent="Audio manipulation",document.createElement("div")),n=(l.classList.add("flex","gap-1.5","items-center"),document.createElement("p"));n.classList.add("flex-1","basis-1/3"),n.textContent="Trim silence";const s=document.createElement("button");s.classList.add("rounded-md","flex","items-center","justify-center","transition-colors","font-normal","disabled:cursor-not-allowed","px-2.5","gap-2","py-2.5","basis-1/3","flex-1","!bg-dark-elements","hover:bg-dark-elements-hover","text-light-primary","bg-dark-elements"),sendModuleData.moduleParameters.trimSilence&&(s.classList.add("!bg-accent-primary","!text-dark-background"),s.classList.remove("!bg-dark-elements")),s.innerHTML='<i class="fa-solid fa-thumbs-up"></i>',s.type="button";var o=document.createElement("span"),d=(o.classList.add("w-full","h-px","bg-white","bg-opacity-20","shrink-0"),document.createElement("button"));d.classList.add("text-light-primary","opacity-60","hover:opacity-100","transition-opacity","-mt-2"),d.textContent="Reset",d.type="button",s.onclick=function(){s.classList.contains("!bg-dark-elements")?(s.classList.add("!bg-accent-primary","!text-dark-background"),s.classList.remove("!bg-dark-elements"),sendModuleData.moduleParameters.trimSilence=!0):(s.classList.remove("!bg-accent-primary","!text-dark-background"),s.classList.add("!bg-dark-elements"),sendModuleData.moduleParameters.trimSilence=!1)},d.onclick=function(){s.classList.remove("!bg-accent-primary","!text-dark-background"),s.classList.add("!bg-dark-elements"),sendModuleData.moduleParameters.extractMethod="vocals",sendModuleData.moduleParameters.trimSilence=!1},t.appendChild(a),l.appendChild(n),l.appendChild(s),e.appendChild(t),e.appendChild(l),e.appendChild(o),e.appendChild(d)}createFooterAudio(callbacks);